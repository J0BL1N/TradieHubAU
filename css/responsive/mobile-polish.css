/* ----------------------------
   v0.0298: Mobile Polish (Phase 1)
----------------------------- */

/* Fix 1: Modal close button visibility and tap target */
@media (max-width: 768px) {
  #athJobModalClose,
  .modal-close-btn,
  [id*="ModalClose"],
  [id*="Close"] {
    min-width: 44px !important;
    min-height: 44px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Fix 2: Bottom navigation overlap on modals */
  #athJobModalBody,
  .modal-body,
  [id*="ModalBody"] {
    padding-bottom: calc(80px + env(safe-area-inset-bottom)) !important;
  }

  /* Modal content max height */
  .modal-content,
  #athJobModal > div {
    max-height: calc(100vh - 140px);
    overflow-y: auto;
  }

  /* Fix 3: Message composer width optimization */
  #lightningBtn,
  #emojiPickerBtn,
  button[aria-label*="Lightning"],
  button[aria-label*="Emoji"] {
    display: none !important;
  }

  /* Expand message input field */
  #athMessageInput,
  input[placeholder*="message"],
  textarea[placeholder*="message"] {
    flex: 1 !important;
    min-width: 0 !important;
  }

  /* Mic button spacing */
  #voiceMicBtn {
    margin-left: 0.5rem !important;
  }

  /* Fix 4: Chat header icon simplification */
  #chatHeaderStar,
  #chatHeaderPhone,
  #chatHeaderVideo,
  #chatHeaderGallery,
  [id*="chatHeader"][id*="Star"],
  [id*="chatHeader"][id*="Phone"],
  [id*="chatHeader"][id*="Video"],
  [id*="chatHeader"][id*="Gallery"] {
    display: none !important;
  }

  /* Fix 5: Header text compression */
  .logout-text,
  nav a[href*="logout"],
  button[onclick*="logout"] {
    max-width: 120px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.75rem;
  }

  /* General mobile modal improvements */
  .fixed.inset-0[class*="modal"],
  [id*="Modal"].fixed {
    padding: 1rem !important;
  }

  /* Ensure modals don't overflow viewport */
  .fixed.inset-0 > div[class*="w-full"] {
    max-width: 100% !important;
    max-height: 90vh !important;
  }
}

/* Additional small screen optimizations (iPhone SE and smaller) */
@media (max-width: 375px) {
  /* Job cards: make buttons stack on very small screens */
  .job-card-actions {
    flex-direction: column !important;
    gap: 0.5rem !important;
  }

  /* Modal padding reduction for tiny screens */
  #athJobModalBody,
  [id*="ModalBody"] {
    padding: 1rem !important;
  }
}
